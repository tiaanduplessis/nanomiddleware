var n=function(n){this.fns=[],n&&this.use(n)};function t(n,t){return n.then(t)}n.prototype.use=function(t,s){var r=this;void 0===s&&(s={});var e=s.before;void 0===e&&(e=!1),void 0!==t&&null!==t&&(t instanceof n?this.use(t.fns):Array.isArray(t)?t.forEach(function(n){return r.use(n)}):t.then||"function"==typeof t?e?this.fns.unshift(t):this.fns.push(t):e?this.fns.unshift(function(){return t}):this.fns.push(function(){return t}))},n.prototype.run=function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return this.fns.reduce(t,Promise.resolve.apply(Promise,n))},module.exports=n;
//# sourceMappingURL=nanomiddleware.js.map
